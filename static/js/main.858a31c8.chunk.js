(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{149:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(42),i=n.n(a),s=n(55),l=n(38),o=n(21),j=n(62),d=n(66),u=Object(j.b)({name:"userAuth",initialState:{user:null,credential:null},reducers:{setUser:function(e,t){e.user=t.payload.user,e.credential=d.a.credentialFromResult(t.payload)},removeUser:function(e){e.user=null}}}),b=u.actions,h=b.setUser,x=(b.removeUser,function(e){return e.user.user}),p=function(e){return e.user.credential},O=u.reducer,m=function(){var e=Object(l.c)(x);return{isAuth:!!e,user:e,credential:Object(l.c)(p)}},f=n(11),g=n(215),v=n(211),y=n(217),w=n(218),k=n(219),A=n(220),C=n(113),S=n(210),I=n(212),E=n(207),D=n(213),G=n(110),z=n.n(G),F=n(93),U=n.n(F),W="/login",L="/chat",P="/home",T=n(4),B=["Products","Pricing","Blog"],N=["Profile","Account","Dashboard","Logout"],R=function(){var e=m().isAuth,t=r.a.useState(null),n=Object(f.a)(t,2),c=n[0],a=n[1],i=r.a.useState(null),l=Object(f.a)(i,2),o=l[0],j=l[1],d=function(){a(null)},u=function(){j(null)};return Object(T.jsx)("header",{children:Object(T.jsx)(g.a,{position:"static",children:Object(T.jsx)(v.a,{maxWidth:"xl",children:Object(T.jsxs)(y.a,{disableGutters:!0,children:[Object(T.jsx)(U.a,{sx:{display:{xs:"none",md:"flex"},mr:1}}),Object(T.jsx)(w.a,{variant:"h6",noWrap:!0,sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",flexGrow:1,fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"Chat roulette"}),Object(T.jsxs)(k.a,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[Object(T.jsx)(A.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){a(e.currentTarget)},color:"inherit",children:Object(T.jsx)(z.a,{})}),Object(T.jsx)(C.a,{id:"menu-appbar",anchorEl:c,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(c),onClose:d,sx:{display:{xs:"block",md:"none"}},children:B.map((function(e){return Object(T.jsx)(S.a,{onClick:d,children:Object(T.jsx)(w.a,{textAlign:"center",children:e})},e)}))})]}),Object(T.jsx)(U.a,{sx:{display:{xs:"flex",md:"none"},mr:1}}),Object(T.jsx)(w.a,{variant:"h5",noWrap:!0,sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"Chat roulette"}),Object(T.jsx)(k.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:B.map((function(e){return Object(T.jsx)(I.a,{onClick:d,sx:{my:2,color:"white",display:"block"},children:e},e)}))}),Object(T.jsx)(k.a,{sx:{flexGrow:0},children:e?Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(E.a,{title:"Open settings",children:Object(T.jsx)(A.a,{onClick:function(e){j(e.currentTarget)},sx:{p:0},children:Object(T.jsx)(D.a,{alt:"Remy Sharp",src:"/static/images/avatar/2.jpg"})})}),Object(T.jsx)(C.a,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(o),onClose:u,children:N.map((function(e){return Object(T.jsx)(S.a,{onClick:u,children:Object(T.jsx)(w.a,{textAlign:"center",children:e})},e)}))})]}):Object(T.jsx)(I.a,{children:Object(T.jsx)(s.b,{to:W,children:"Login"})})})]})})})})},M=Object(c.memo)((function(){return Object(T.jsx)("div",{children:Object(T.jsx)("h1",{children:"HOME PAGE"})})})),H=r.a.memo((function(){return Object(T.jsx)("div",{children:Object(T.jsx)("h1",{children:"NOT FOUND PAGE"})})})),Q=n(1),Y=n.n(Q),J=n(6),X=n(214),_=(l.c,n(111)),K=n(54),q=Object(_.a)({apiKey:"AIzaSyAXfGe3IcD2w0YbDN7wLLQ6ElaSTcfsYkQ",authDomain:"chat-react-eaa0f.firebaseapp.com",projectId:"chat-react-eaa0f",storageBucket:"chat-react-eaa0f.appspot.com",messagingSenderId:"254749271243",appId:"1:254749271243:web:17ecfe4efe5f947fd1674e",measurementId:"G-0RNETXFQ7W"}),V={app:q,database:Object(K.a)(q,"https://chat-react-eaa0f-default-rtdb.europe-west1.firebasedatabase.app")},Z=Object(j.b)({name:"firebase",initialState:V,reducers:{}}),$=function(e){return e.firebaseApp.app},ee=function(e){return e.firebaseApp.database},te=Z.reducer,ne=Object(c.memo)((function(){var e=Object(l.c)($),t=Object(d.b)(e),n=Object(l.b)(),r=Object(o.g)(),a=Object(c.useCallback)(Object(J.a)(Y.a.mark((function e(){var c,a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=new d.a,e.next=4,Object(d.c)(t,c);case 4:a=e.sent,n(h(a)),r(L),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error("some issue with sing in with google token");case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),[t,r]);return Object(T.jsx)(v.a,{children:Object(T.jsx)(X.a,{alignItems:"center",justifyContent:"center",display:"flex",style:{height:window.innerHeight-64},children:Object(T.jsx)(X.a,{style:{width:400,background:"lightgray"},container:!0,alignItems:"center",direction:"column",children:Object(T.jsx)(k.a,{p:5,children:Object(T.jsx)(I.a,{variant:"outlined",onClick:a,children:"Sing in with google"})})})})})})),ce=n(18),re=n(208),ae=n(112),ie=Object(c.memo)((function(){var e=m().user,t=Object(l.c)(ee),n=Object(K.d)(t,"posts"),r=Object(c.useState)([]),a=Object(f.a)(r,2),i=a[0],s=a[1],o=Object(c.useState)(""),j=Object(f.a)(o,2),d=j[0],u=j[1];Object(c.useEffect)((function(){Object(K.b)(n,(function(e){s((function(t){return[].concat(Object(ce.a)(t),[e.val()])}))}))}),[]);Object(c.useCallback)((function(){}),[]);return Object(T.jsx)(v.a,{children:Object(T.jsxs)(X.a,{container:!0,alignItems:"center",justifyContent:"center",direction:"column",display:"flex",style:{height:window.innerHeight-64},children:[Object(T.jsx)("div",{style:{width:"80%",height:"70vh",border:"1px solid gray",overflowY:"auto"},children:i.map((function(t){return Object(T.jsxs)("div",{style:{margin:10,border:(null===e||void 0===e?void 0:e.uid)===t.uID?"2px solid green":"2px solid red",marginLeft:(null===e||void 0===e?void 0:e.uid)===t.uID?"auto":"10px",width:"fit-content",padding:5},children:[Object(T.jsxs)(X.a,{container:!0,children:[Object(T.jsx)(D.a,{src:t.profile_picture}),Object(T.jsx)("div",{children:t.username})]}),Object(T.jsx)("div",{children:t.message})]},Object(ae.a)())}))}),Object(T.jsxs)(X.a,{container:!0,alignItems:"flex-end",direction:"column",style:{width:"80%"},children:[Object(T.jsx)(re.a,{style:{marginTop:10},fullWidth:!0,maxRows:1,multiline:!0,size:"small",id:"outlined-basic",label:"Enter message",variant:"outlined",value:d,onChange:function(e){var t=e.target;return u(t.value)}}),Object(T.jsx)(I.a,{size:"small",onClick:function(){var t=Object(K.c)(n);Object(K.e)(t,{uID:null===e||void 0===e?void 0:e.uid,username:null===e||void 0===e?void 0:e.displayName,email:null===e||void 0===e?void 0:e.email,profile_picture:null===e||void 0===e?void 0:e.photoURL,message:d}),u("")},children:"Send"})]})]})})})),se=(n(149),Object(c.memo)((function(){var e=m().isAuth;return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(R,{}),e?Object(T.jsxs)(o.d,{children:[Object(T.jsx)(o.b,{path:"/",element:Object(T.jsx)(o.a,{to:P,replace:!0})}),Object(T.jsx)(o.b,{path:P,element:Object(T.jsx)(M,{})}),Object(T.jsx)(o.b,{path:L,element:Object(T.jsx)(ie,{})}),Object(T.jsx)(o.b,{path:"*",element:Object(T.jsx)(H,{})})]}):Object(T.jsxs)(o.d,{children:[Object(T.jsx)(o.b,{path:"/",element:Object(T.jsx)(o.a,{to:P,replace:!0})}),Object(T.jsx)(o.b,{path:P,element:Object(T.jsx)(M,{})}),Object(T.jsx)(o.b,{path:W,element:Object(T.jsx)(ne,{})}),Object(T.jsx)(o.b,{path:"*",element:Object(T.jsx)(H,{})})]})]})}))),le=Object(j.a)({reducer:{user:O,firebaseApp:te},middleware:function(e){return e({serializableCheck:{ignoredActions:["userAuth/setUser"],ignoredPaths:["user.user","user.credential","firebaseApp.app","firebaseApp.database"]}})}});n(150);i.a.render(Object(T.jsx)(s.a,{children:Object(T.jsx)(l.a,{store:le,children:Object(T.jsx)(r.a.StrictMode,{children:Object(T.jsx)(se,{})})})}),document.getElementById("root"))}},[[151,1,2]]]);
//# sourceMappingURL=main.858a31c8.chunk.js.map